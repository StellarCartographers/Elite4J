plugins {
    id 'org.cadixdev.licenser' version '0.6.1'
    id 'io.freefair.lombok' version '8.0.1'
    id "io.github.romvoid95.mvn" version "0.1.0"
    id 'java-library'
}

group = 'space.tscg'
version = 'v37-SNAPSHOT'

mvn {
    devName 'ROMVoid95'
    devEmail 'rom.void95@gmail.com'
}

repositories {
    mavenCentral()
}

dependencies {
    api 'org.apache.commons:commons-lang3:3.12.0'
    api 'org.reflections:reflections:0.10.2'
    api 'com.google.code.gson:gson:2.8.6'
    api group: 'com.google.guava', name: 'guava', version: '32.0.1-jre'
    implementation 'org.slf4j:slf4j-simple:2.0.7'
}

java {
    toolchain.languageVersion = JavaLanguageVersion.of(17)
}

license{
    header = file("$rootDir/LICENSE-header.txt")
    properties {
        GROUP = 'The Stellar Cartographers\' Guild'
        YEAR = Calendar.getInstance().get(Calendar.YEAR);
    }
    newLine = false
    ignoreFailures = true
    style { java = 'JAVADOC' }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.incremental = true
}

javadoc {
    source = sourceSets.main.allJava
    if(JavaVersion.current().isJava9Compatible()) {
        options.addBooleanOption('html5', true)
    }
    options.encoding = 'UTF-8'
}
